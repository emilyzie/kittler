{"ast":null,"code":"import { createClient } from '@supabase/supabase-js';\nimport React from 'react';\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\nfunction createClerkSupabaseClient() {\n  return createClient(supabaseUrl, supabaseAnonKey, {\n    global: {\n      fetch: async (url, options = {}) => {\n        const clerkToken = await window.Clerk.session.getToken({\n          template: 'supabase'\n        });\n        const headers = new Headers(options.headers);\n        headers.set('Authorization', `Bearer ${clerkToken}`);\n        return fetch(url, {\n          ...options,\n          headers\n        });\n      }\n    }\n  });\n}\nconst supabase = createClerkSupabaseClient();\nexport default supabase;","map":{"version":3,"names":["createClient","React","supabaseUrl","process","env","REACT_APP_SUPABASE_URL","supabaseAnonKey","REACT_APP_SUPABASE_ANON_KEY","createClerkSupabaseClient","global","fetch","url","options","clerkToken","window","Clerk","session","getToken","template","headers","Headers","set","supabase"],"sources":["/Users/midhu1/Projects/mediaconsumption/CLIENT/src/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\nimport React from 'react';\n\nconst supabaseUrl = process.env.REACT_APP_SUPABASE_URL;\nconst supabaseAnonKey = process.env.REACT_APP_SUPABASE_ANON_KEY;\n\nfunction createClerkSupabaseClient() {\n  return createClient(\n    supabaseUrl,\n    supabaseAnonKey,\n    {\n      global: {\n        fetch: async (url, options = {}) => {\n          const clerkToken = await window.Clerk.session.getToken({ template: 'supabase' });\n          const headers = new Headers(options.headers);\n          headers.set('Authorization', `Bearer ${clerkToken}`);\n          return fetch(url, { ...options, headers });\n        }\n      }\n    }\n  );\n}\n\nconst supabase = createClerkSupabaseClient();\nexport default supabase;\n"],"mappings":"AAAA,SAASA,YAAY,QAAQ,uBAAuB;AACpD,OAAOC,KAAK,MAAM,OAAO;AAEzB,MAAMC,WAAW,GAAGC,OAAO,CAACC,GAAG,CAACC,sBAAsB;AACtD,MAAMC,eAAe,GAAGH,OAAO,CAACC,GAAG,CAACG,2BAA2B;AAE/D,SAASC,yBAAyBA,CAAA,EAAG;EACnC,OAAOR,YAAY,CACjBE,WAAW,EACXI,eAAe,EACf;IACEG,MAAM,EAAE;MACNC,KAAK,EAAE,MAAAA,CAAOC,GAAG,EAAEC,OAAO,GAAG,CAAC,CAAC,KAAK;QAClC,MAAMC,UAAU,GAAG,MAAMC,MAAM,CAACC,KAAK,CAACC,OAAO,CAACC,QAAQ,CAAC;UAAEC,QAAQ,EAAE;QAAW,CAAC,CAAC;QAChF,MAAMC,OAAO,GAAG,IAAIC,OAAO,CAACR,OAAO,CAACO,OAAO,CAAC;QAC5CA,OAAO,CAACE,GAAG,CAAC,eAAe,EAAG,UAASR,UAAW,EAAC,CAAC;QACpD,OAAOH,KAAK,CAACC,GAAG,EAAE;UAAE,GAAGC,OAAO;UAAEO;QAAQ,CAAC,CAAC;MAC5C;IACF;EACF,CACF,CAAC;AACH;AAEA,MAAMG,QAAQ,GAAGd,yBAAyB,CAAC,CAAC;AAC5C,eAAec,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}