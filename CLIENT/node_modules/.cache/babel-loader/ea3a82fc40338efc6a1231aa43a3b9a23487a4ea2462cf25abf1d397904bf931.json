{"ast":null,"code":"var _jsxFileName = \"/Users/midhu1/Projects/mediaconsumption/CLIENT/src/components/common/Header.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Header({\n  toggleLogin,\n  toggleSignup,\n  showLogin,\n  showSignup\n}) {\n  _s();\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const {\n      data,\n      error: dbError\n    } = await supabase.from('profiles').select('*').eq('username', username).single();\n    if (dbError) {\n      handledbError(dbError);\n      return;\n    }\n    if (data) {\n      const {\n        user,\n        error: loginError\n      } = await supabase.auth.signInWithPassword({\n        email: data.email,\n        password: password\n      });\n      if (loginError) {\n        setError(loginError.message);\n      } else {\n        console.log('Login successful:', user);\n        navigate('/profile');\n      }\n    } else {\n      setError(\"User not found\");\n    }\n  };\n  const handledbError = error => {\n    if (error.message.includes(\"multiple (or no) rows returned\")) {\n      setError(\"We can't seem to find your account. Try again, or don't I guess.\");\n    } else {\n      setError(\"Something went wrong. It's probably our bad, so please try again later.\");\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"header\", {\n    className: \"bg-zinc-700 text-white p-4 shadow-md relative\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mx-auto flex justify-between items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"my-1 mr-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"font-bold text-2xl text-left\",\n            children: \"Kittler\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"italic text-left\",\n            children: \"switch off all apparatuses.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 55,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 52,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleLogin,\n          className: `text-white btn shadow-[0_9px_0_rgb(0,0,0)] hover:shadow-[0_4px_0px_rgb(0,0,0)] hover:translate-y-1 transition-all inline-block p-2 ml-4 bg-stone-400 hover:bg-stone-500 rounded ${showLogin ? 'bg-stone-500' : ''}`,\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: toggleSignup,\n          className: `btn shadow-[0_9px_0_rgb(0,0,0)] hover:shadow-[0_4px_0px_rgb(0,0,0)] hover:translate-y-1 transition-all inline-block p-2 ml-4 bg-stone-500 hover:bg-stone-600 rounded ${showSignup ? 'bg-stone-600' : ''}`,\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), showLogin && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login-form bg-zinc-800 text-white p-4 rounded shadow-lg absolute top-0 right-0 mt-2 transform translate-x-full transition-transform duration-500 ease-in-out\",\n      children: [/*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"flex items-center space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-400\",\n            children: \"Username\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: username,\n            onChange: e => setUsername(e.target.value),\n            className: \"p-2 rounded bg-gray-900 border border-gray-700\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"text-gray-400\",\n            children: \"Password\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            value: password,\n            onChange: e => setPassword(e.target.value),\n            className: \"p-2 rounded bg-gray-900 border border-gray-700\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded\",\n          children: \"Sign In\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-right text-green-500 hover:underline cursor-pointer mt-2\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/forgot-password\",\n          children: \"Forgotten?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 5\n  }, this);\n}\n_s(Header, \"PRk3rkn/Zq+a3Ceqt4taaWXn0UQ=\", false, function () {\n  return [useNavigate];\n});\n_c = Header;\nexport default Header;\nvar _c;\n$RefreshReg$(_c, \"Header\");","map":{"version":3,"names":["React","useState","Link","useNavigate","supabase","jsxDEV","_jsxDEV","Header","toggleLogin","toggleSignup","showLogin","showSignup","_s","username","setUsername","password","setPassword","error","setError","navigate","handleSubmit","e","preventDefault","data","dbError","from","select","eq","single","handledbError","user","loginError","auth","signInWithPassword","email","message","console","log","includes","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","value","onChange","target","required","to","_c","$RefreshReg$"],"sources":["/Users/midhu1/Projects/mediaconsumption/CLIENT/src/components/common/Header.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { supabase } from '../supabaseClient';\n\nfunction Header({ toggleLogin, toggleSignup, showLogin, showSignup }) {\n  const [username, setUsername] = useState('');\n  const [password, setPassword] = useState('');\n  const [error, setError] = useState('');\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const { data, error: dbError } = await supabase\n      .from('profiles')\n      .select('*')\n      .eq('username', username)\n      .single();\n\n    if (dbError) {\n      handledbError(dbError);\n      return;\n    }\n\n    if (data) {\n      const { user, error: loginError } = await supabase.auth.signInWithPassword({\n        email: data.email,\n        password: password,\n      });\n\n      if (loginError) {\n        setError(loginError.message);\n      } else {\n        console.log('Login successful:', user);\n        navigate('/profile');\n      }\n    } else {\n      setError(\"User not found\");\n    }\n  };\n\n  const handledbError = (error) => {\n    if (error.message.includes(\"multiple (or no) rows returned\")) {\n      setError(\"We can't seem to find your account. Try again, or don't I guess.\");\n    } else {\n      setError(\"Something went wrong. It's probably our bad, so please try again later.\");\n    }\n  }\n\n  return (\n    <header className=\"bg-zinc-700 text-white p-4 shadow-md relative\">\n      <div className=\"container mx-auto flex justify-between items-center\">\n        <div className=\"flex items-center\">\n          <div className=\"my-1 mr-6\">\n            <h1 className=\"font-bold text-2xl text-left\">Kittler</h1>\n            <h2 className=\"italic text-left\">switch off all apparatuses.</h2>\n          </div>\n        </div>\n        <nav className=\"flex items-center\">\n          <button\n            onClick={toggleLogin}\n            className={`text-white btn shadow-[0_9px_0_rgb(0,0,0)] hover:shadow-[0_4px_0px_rgb(0,0,0)] hover:translate-y-1 transition-all inline-block p-2 ml-4 bg-stone-400 hover:bg-stone-500 rounded ${showLogin ? 'bg-stone-500' : ''}`}\n          >\n            Login\n          </button>\n          <button\n            onClick={toggleSignup}\n            className={`btn shadow-[0_9px_0_rgb(0,0,0)] hover:shadow-[0_4px_0px_rgb(0,0,0)] hover:translate-y-1 transition-all inline-block p-2 ml-4 bg-stone-500 hover:bg-stone-600 rounded ${showSignup ? 'bg-stone-600' : ''}`}\n          >\n            Register\n          </button>\n        </nav>\n      </div>\n      {showLogin && (\n        <div className=\"login-form bg-zinc-800 text-white p-4 rounded shadow-lg absolute top-0 right-0 mt-2 transform translate-x-full transition-transform duration-500 ease-in-out\">\n          <form onSubmit={handleSubmit} className=\"flex items-center space-x-4\">\n            <div className=\"flex flex-col\">\n              <label className=\"text-gray-400\">Username</label>\n              <input\n                type=\"text\"\n                value={username}\n                onChange={(e) => setUsername(e.target.value)}\n                className=\"p-2 rounded bg-gray-900 border border-gray-700\"\n                required\n              />\n            </div>\n            <div className=\"flex flex-col\">\n              <label className=\"text-gray-400\">Password</label>\n              <input\n                type=\"password\"\n                value={password}\n                onChange={(e) => setPassword(e.target.value)}\n                className=\"p-2 rounded bg-gray-900 border border-gray-700\"\n                required\n              />\n            </div>\n            <button type=\"submit\" className=\"bg-green-600 hover:bg-green-700 text-white py-2 px-4 rounded\">\n              Sign In\n            </button>\n          </form>\n          <p className=\"text-right text-green-500 hover:underline cursor-pointer mt-2\">\n            <Link to=\"/forgot-password\">Forgotten?</Link>\n          </p>\n        </div>\n      )}\n    </header>\n  );\n}\n\nexport default Header;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}