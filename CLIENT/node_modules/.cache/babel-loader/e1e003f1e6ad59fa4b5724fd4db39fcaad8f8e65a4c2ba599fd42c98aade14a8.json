{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from 'react';\nimport { useSession } from '@clerk/clerk-react';\nimport supabase from '../supabaseClient';\nexport const useSyncSupabaseAuth = () => {\n  _s();\n  const {\n    session\n  } = useSession();\n  useEffect(() => {\n    const syncSupabaseAuth = async () => {\n      if (session) {\n        const token = await session.getToken({\n          template: 'supabase'\n        });\n        await supabase.auth.setAuth(token);\n      } else {\n        await supabase.auth.signOut();\n      }\n    };\n    syncSupabaseAuth();\n  }, [session]);\n};\n_s(useSyncSupabaseAuth, \"DGP3heYTuAK35y0D0tH9Mt8+SDk=\", false, function () {\n  return [useSession];\n});","map":{"version":3,"names":["useEffect","useSession","supabase","useSyncSupabaseAuth","_s","session","syncSupabaseAuth","token","getToken","template","auth","setAuth","signOut"],"sources":["/Users/midhu1/Projects/mediaconsumption/CLIENT/src/utils/auth.js"],"sourcesContent":["import { useEffect } from 'react';\nimport { useSession } from '@clerk/clerk-react';\nimport supabase from '../supabaseClient';\n\nexport const useSyncSupabaseAuth = () => {\n  const { session } = useSession();\n\n  useEffect(() => {\n    const syncSupabaseAuth = async () => {\n      if (session) {\n        const token = await session.getToken({ template: 'supabase' });\n        await supabase.auth.setAuth(token);\n      } else {\n        await supabase.auth.signOut();\n      }\n    };\n\n    syncSupabaseAuth();\n  }, [session]);\n};\n"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;AACjC,SAASC,UAAU,QAAQ,oBAAoB;AAC/C,OAAOC,QAAQ,MAAM,mBAAmB;AAExC,OAAO,MAAMC,mBAAmB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvC,MAAM;IAAEC;EAAQ,CAAC,GAAGJ,UAAU,CAAC,CAAC;EAEhCD,SAAS,CAAC,MAAM;IACd,MAAMM,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAID,OAAO,EAAE;QACX,MAAME,KAAK,GAAG,MAAMF,OAAO,CAACG,QAAQ,CAAC;UAAEC,QAAQ,EAAE;QAAW,CAAC,CAAC;QAC9D,MAAMP,QAAQ,CAACQ,IAAI,CAACC,OAAO,CAACJ,KAAK,CAAC;MACpC,CAAC,MAAM;QACL,MAAML,QAAQ,CAACQ,IAAI,CAACE,OAAO,CAAC,CAAC;MAC/B;IACF,CAAC;IAEDN,gBAAgB,CAAC,CAAC;EACpB,CAAC,EAAE,CAACD,OAAO,CAAC,CAAC;AACf,CAAC;AAACD,EAAA,CAfWD,mBAAmB;EAAA,QACVF,UAAU;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}